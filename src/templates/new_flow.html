{% extends "layout.html" %}
{% block main %}
<main role="main" class="col-md-9 col-lg-10 px-4">
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 ">
    </div>
    <div>
    {%- if editable -%}
    <form role="form" method="post">
    <div class="row">
       <div class="col">
	   filename
	   <pre class="code bg-light"><input class="form-control input-normal" type='input' name='path' value='{{ fileobj.path }}'></pre>
       </div>
    </div>
    <div class="row">
       <div class="col"> owner </div>
       <div class="col"> group </div>
       <div class="col"> mode </div>
       <div class="col"> Type </div>
       <div class="col"> Server </div>
    </div>
    <div class="row">
       <div class="col"><pre class="code bg-light"><input class="form-control input-normal" type='input' name='owner' value='{{ fileobj.owner }}'></pre></div>
       <div class="col"><pre class="code bg-light"><input class="form-control input-normal" type='input' name='group' value='{{ fileobj.group }}'></pre></div>
       <div class="col"><pre class="code bg-light"><input class="form-control input-normal" type='input' name='mode' value='{{ fileobj.mode }}'></pre></div>
       <div class="col"><pre class="code bg-light form-control">{{ fileobj.type }}</pre></div>
       <div class="col"><pre class="code bg-light form-control">{{ fileobj.hostname }}</pre></div>
    </div>
    <div class="row">
	    <div class ="col">Precommand</div>
    </div>
    <div class="row">
	    <div class ="col">
	    <textarea class="form-control" id="file_conent" type="text" name="precmd" rows=2>{{ fileobj.precmd or '' }}</textarea>
 	    </div>
    </div>
    <div class="row">
	    <div class ="col">Postcommand</div>
    </div>
    <div class="row">
	    <div class ="col">
		    <textarea class="form-control" type="text" name="postcmd" rows=2>{{ fileobj.postcmd or '' }}</textarea>
	    </div>
    </div>
    <div class="row">
	    <div class ="col">Content</div>
    </div>
    <div class="row">
       <div class="col">
	       <textarea class="form-control" type="text" name="text" rows=10>{{ fileobj.text  or ''}}</textarea>
       </div>
    </div>

	    
    <div class="row">
       <div class="col">
        <button class="btn btn-outline-primary" style="margin-left:10px;" id="submit" placeholder="submit keys"><i class="fa fa-submit">submit</i></button>
       </div>
       <div class="col">
        <button class="btn btn-outline-primary" style="margin-left:10px;" id="delete" placeholder="delete keys"><i class="fa fa-delete">delete</i></button>
       </div>
    </div>
    </form>
    {% else %}
    <div class="row">
       <div class="col">
	   filename
           <pre class="code bg-light">{{ fileobj.path }}</pre>
       </div>
    </div>
    <div class="row">
       <div class="col"> owner </div>
       <div class="col"> group </div>
       <div class="col"> mode </div>
       <div class="col"> Type </div>
       <div class="col"> Server </div>
    </div>
    <div class="row">
	    <div class="col"><pre class="code bg-light">  {{ fileobj.owner }} </pre></div>
       <div class="col"><pre class="code bg-light"> {{ fileobj.group }} </pre></div>
       <div class="col"><pre class="code bg-light"> {{ fileobj.mode }} </pre></div>
       <div class="col"><pre class="code bg-light"> {{ fileobj.type }} </pre></div>
       <div class="col"><pre class="code bg-light"> {{ fileobj.hostname }} </pre></div>
    </div>
    <div class="row">
	    <div class ="col">Precommand</div>
    </div>
    <div class="row">
	    <div class ="col"><pre class="code bg-light"> {{ fileobj.precmd or '' }} </pre></div>
    </div>
    <div class="row">
	    <div class ="col">Postcommand</div>
    </div>
    <div class="row">
	    <div class ="col"><pre class="code bg-light"> {{ fileobj.postcmd or '' }} </pre></div>
    </div>
    <div class="row">
	    <div class ="col">Content</div>
    </div>
    <div class="row">
       <div class="col">
           <pre class="code bg-light">{{ fileobj.text }}</pre>
       </div>
    </div>
    <div class="row">
       <div class="col">
	    <button class="btn btn-outline-primary btn-edit" style="margin-left:10px;" id="submit" placeholder="submit keys"><i class="fa fa-submit">edit</i></button>
       </div>
       <div class="col">
	    <button class="btn btn-outline-primary btn-edit" style="margin-left:10px;" id="syncout" placeholder="submit keys"><i class="fa fa-submit">write to server</i></button>
       </div>
    </div>
    <script> 
	    $(document).ready(function() {
		$("#submit").click(function(e){
			console.log(e)
			window.open("?editable=true","_self");
		});
	    });
    </script>
    {% endif %}
    </div>
</main>
{% endblock %}
